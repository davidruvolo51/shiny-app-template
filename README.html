


<h1 id="shiny-app-template">Shiny App Template</h1>
<p>This repo contains the basic files and project structure for creating custom shiny apps. This template uses the application bundler <a href="https://parceljs.org">parcel.js</a> to build static assets using various javascript and css plugins.</p>
<h2 id="features">Features</h2>
<ol style="list-style-type: decimal">
<li><strong>SCSS</strong>: All css styles are written using scss (<code>src/scss</code>). Parcel watches the <code>index.scss</code> file for changes and rebuilds when the file is resaved. A number of plugins are used for browser optimization (see <code>package.json</code>). As a result, the output file is a minified, auto-prefixed css file (see: <code>www/css/styles.min.css</code>).</li>
<li><strong>JS</strong>: All javascript is written in using a source js file (<code>src/js/index.js</code>). Like css, parcel watches for any changes in the index.js file and rebuilds the output file. Babeljs is used for creating a browser optimized and minified javascript file.</li>
</ol>
<p>By default, the static resources (i.e., css and js files) are referenced in the shiny ui by their minified file name (i.e., <code>styles.min.css</code>, <code>index.min.js</code>).</p>
<h2 id="installation">Installation</h2>
<ol style="list-style-type: decimal">
<li>Install the <a href="https://nodejs.org/en/download/">Node and Npm</a> installer. You can skip this step if you already have node and npm installed. If you are unsure or would like to confirm the installation, run the following commands in the terminal.</li>
</ol>
<pre class="bash"><code>node -v
npm -v</code></pre>
<p><strong>Note</strong>: You will only need to run step 1 once (per machine) as these tools are installed globally.</p>
<ol start="2" style="list-style-type: decimal">
<li>Clone this repository</li>
</ol>
<pre class="bash"><code>git clone https://github.com/davidruvolo51/shiny-app-template</code></pre>
<ol start="3" style="list-style-type: decimal">
<li>Install dependencies. This setup uses <a href="https://babeljs.io">babel.js</a>, <a href="https://sass-lang.com">SASS</a>, and a number of dependencies. These tools and dependencies are listed in the <code>package.json</code>. You will need to install these locally. Run the following commands.</li>
</ol>
<pre class="bash"><code>npm install
npm update</code></pre>
<ol start="4" style="list-style-type: decimal">
<li>Run the app!</li>
</ol>
<p>Now you can run the app using one of the scripts provided in the <code>package.json</code> file. Type the following command to start the shiny server.</p>
<pre class="bash"><code>npm run start</code></pre>
<p>That is it. Everytime you want to start a new project clone this repo and install the dependencies, and then start developing!</p>
<h2 id="development">Development</h2>
<p>I strongly recommend using <a href="https://github.com/tmux/tmux">tmux</a> to run more than one development script in parallel in separate terminal windows, but all in the same view. See the link and the repo’s wiki for more information.</p>
<p>There are a number of development scripts listed in the <code>package.json</code> file. To see what they are, run <code>npm run</code>. I’ve included a number of shorthand scripts that may be useful for developing shiny apps. These are listed in the following table.</p>
<table>
<thead>
<tr class="header">
<th align="left">Name</th>
<th align="left">Command</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">shiny</td>
<td align="left"><code>npm run shiny</code></td>
<td align="left">starts shiny server <span class="citation">@port</span> <code>localhost:8000</code></td>
</tr>
<tr class="even">
<td align="left">dev</td>
<td align="left"><code>npm run dev</code></td>
<td align="left">starts parcel @ port <code>localhost:1234</code></td>
</tr>
<tr class="odd">
<td align="left">build</td>
<td align="left"><code>npm run build</code></td>
<td align="left">builds css and js files</td>
</tr>
<tr class="even">
<td align="left">clean</td>
<td align="left"><code>npm run clean</code></td>
<td align="left">removes parcel built files in <code>www/</code></td>
</tr>
</tbody>
</table>
<p><strong>Optional</strong>: You can also use <a href="https://classic.yarnpkg.com/en/docs/install">yarn</a> to run these scripts. Replace <code>npm run [scriptname]</code> with <code>yarn [scriptname]</code>.</p>
<h3 id="plugins">Plugins</h3>
<p>The following plugins are installed by the <code>package.json</code> file.</p>
<pre class="bash"><code># dev
npm install --save-dev parcel@1.12.4
npm install --save-dev concurrently

# babel
npm install --save-dev @babel/core @babel/cli
npm install @babel/preset-env --save-dev
npm install babel-preset-minify --save-dev

# css
npm install --save-dev postcss-modules
npm install --save-dev autoprefixer
npm install --save-dev node-sass</code></pre>
<p><strong>Note</strong>: Parcel is install locally, as opposed to global (i.e., system). If you want to view parcel options or docs, see the GitHub repo or run <code>npm run parcel [command]</code>.</p>
<p>Configuration files for babel (<code>.babelrc</code>) and postcss modules (<code>.postcssrc</code>) are included in this repository. The configuration for each file is listed below. Add additional plugins as needed.</p>
<h2 id="prepping-the-template">Prepping the Template</h2>
<p>This template comes with some sample code (i.e., generic UI, some styles, and js) that demonstrates how to run the tools and make changes. The sample code isn’t really necessary and can be removed by running the following commands.</p>
<pre class="bash"><code># remove built files
npm run css_clean &amp;&amp; npm run js_clean

# delete and recreate index.js file
rm src/js/index.js
touch src/js/index.js

# delete and recreate the minimum required scss file
rm src/styles/*
touch src/styles/index.scss</code></pre>
<p>I prefer to isolate styles by component and working with a <code>_variables</code> file. This is easier for managing large projects. You can recreate these files by running the following commands.</p>
<pre class="bash"><code># create base and _variables
touch src/styles/_base.scss src/styles/_variables.scss</code></pre>
<p>In the <code>index.scss</code> file, copy the following code.</p>
<pre class="scss"><code>
// import variables first
@import &quot;_variables&quot;;

// load other component-based files
@import &quot;_base&quot;;</code></pre>
<p>Copy the following code into the <code>_base.scss</code> files.</p>
<pre class="scss"><code>// _base.scss
html, body {
    padding: 0;
    margin: 0;
}</code></pre>
<p>Define scss variables in the <code>_variables.scss</code> file.</p>

